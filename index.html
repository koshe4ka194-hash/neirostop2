<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neuro-Stop 3D Hologram</title>
    <style>
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background: transparent;
            font-family: 'Segoe UI', Tahoma, sans-serif;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π, –ø–æ–∫–∞ –Ω–µ—Ç –ø–∞—É–∑—ã */
        #app-container {
            width: 100%; height: 100%;
            pointer-events: none; 
            display: flex; justify-content: center; align-items: center;
            perspective: 1200px; /* –ì–ª—É–±–∏–Ω–∞ 3D */
            transition: background 0.5s;
        }

        /* –ó–∞—â–∏—Ç–Ω—ã–π —Å–ª–æ–π –≤–æ –≤—Ä–µ–º—è –ø–∞—É–∑—ã (–Ω–µ–≤–∏–¥–∏–º—ã–π, –Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏ –≤ –∏–≥—Ä—É) */
        #app-container.paused {
            pointer-events: all; 
            background: rgba(0,0,0,0.05); /* –ï–¥–≤–∞ –∑–∞–º–µ—Ç–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–Ω–∞ */
        }

        /* –û–±—ä–µ–º–Ω–∞—è 3D –∫–∞—Ä—Ç–æ—á–∫–∞ */
        .card-3d {
            display: none;
            opacity: 0;
            width: 400px;
            max-width: 85%;
            background: linear-gradient(135deg, #e0f7fa 0%, #ffffff 100%); /* –°–ø–æ–∫–æ–π–Ω—ã–π –º—è—Ç–Ω–æ-–±–µ–ª—ã–π */
            border-radius: 40px;
            padding: 35px;
            text-align: center;
            position: relative;
            
            /* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –∏ –æ–±—ä–µ–º–∞ */
            box-shadow: 
                0 30px 60px rgba(0,0,0,0.12), 
                0 0 30px rgba(178, 235, 242, 0.6), /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
                inset 0 0 15px rgba(255,255,255,1);
            
            border: 1px solid rgba(255,255,255,0.8);
            transform: rotateX(10deg) rotateY(-5deg) translateZ(50px);
            transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
        }

        #app-container.paused .card-3d {
            display: block;
            opacity: 1;
            transform: rotateX(0deg) rotateY(0deg) translateZ(100px);
        }

        /* –ò–∫–æ–Ω–∫–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
        .icon { font-size: 45px; margin-bottom: 10px; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); }
        
        .title {
            color: #006064; font-size: 22px; font-weight: 700;
            margin-bottom: 15px;
        }

        /* –ë–ª–æ–∫ –∑–∞–¥–∞–Ω–∏—è */
        .task-box {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            border: 1px dashed #4dd0e1;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #37474f;
            line-height: 1.4;
        }

        /* –¢–∞–π–º–µ—Ä */
        .timer-circle {
            width: 70px; height: 70px;
            border-radius: 50%;
            background: #4dd0e1;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto;
            color: white; font-size: 28px; font-weight: bold;
            box-shadow: 0 5px 15px rgba(77, 208, 225, 0.4);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞—Ä–µ–Ω–∏—è */
        @keyframes float {
            0% { transform: translateY(0px) rotateX(0deg); }
            50% { transform: translateY(-15px) rotateX(2deg); }
            100% { transform: translateY(0px) rotateX(0deg); }
        }
        .floating { animation: float 4s infinite ease-in-out; }

    </style>
</head>
<body>

    <div id="app-container">
        <div class="card-3d floating" id="card">
            <div class="icon">üåø</div>
            <div class="title" id="status-text">–í—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞!</div>
            
            <div class="task-box" id="task-content">
                –ó–∞–≥—Ä—É–∂–∞—é –∑–∞–¥–∞–Ω–∏–µ...
            </div>

            <div class="timer-circle" id="timer-val">10</div>
        </div>
    </div>

    <script>
        // --- –ù–ê–°–¢–†–û–ô–ö–ò ---
        const params = new URLSearchParams(window.location.search);
        const GAME_TIME_LIMIT = (parseFloat(params.get('activeMinutes')) || 0.2) * 60; // –ü–µ—Ä–µ–≤–æ–¥ –≤ —Å–µ–∫.
        const PAUSE_TIME = 60; // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è

        // –°–ü–ò–°–û–ö –ù–ï–ô–†–û-–ó–ê–î–ê–ù–ò–ô
        const neuroTasks = [
            "–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –∫–æ–Ω—á–∏–∫ –Ω–æ—Å–∞, –∞ –∑–∞—Ç–µ–º –≤–¥–∞–ª—å. –ü–æ–≤—Ç–æ—Ä–∏ 5 —Ä–∞–∑! üëÄ",
            "–ù–∞—Ä–∏—Å—É–π –≤ –≤–æ–∑–¥—É—Ö–µ –æ–±–µ–∏–º–∏ —Ä—É–∫–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∫—Ä—É–≥! ‚≠ï",
            "–î–æ—Ç—Ä–æ–Ω—å—Å—è –ø—Ä–∞–≤–æ–π —Ä—É–∫–æ–π –¥–æ –ª–µ–≤–æ–≥–æ —É—Ö–∞, –∞ –ª–µ–≤–æ–π –¥–æ –Ω–æ—Å–∞. –ü–æ–º–µ–Ω—è–π! üñêÔ∏è",
            "–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –∑–∞–¥—É–≤–∞–µ—à—å 5 —Å–≤–µ—á–µ–π –Ω–∞ –±–æ–ª—å—à–æ–º —Ç–æ—Ä—Ç–µ! üéÇ",
            "–ü–æ—Ç—Ä–∏ –ª–∞–¥–æ—à–∫–∏ –¥—Ä—É–≥ –æ–± –¥—Ä—É–≥–∞, –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ —Å—Ç–∞–Ω—É—Ç —Ç–µ–ø–ª—ã–º–∏! üî•",
            "–ù–∞–ø–∏—à–∏ –≤ –≤–æ–∑–¥—É—Ö–µ —Å–≤–æ—ë –∏–º—è —É–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–∞–ª—å—Ü–µ–º! ‚úçÔ∏è"
        ];

        const container = document.getElementById('app-container');
        const card = document.getElementById('card');
        const taskContent = document.getElementById('task-content');
        const timerVal = document.getElementById('timer-val');
        const statusText = document.getElementById('status-text');

        let playSeconds = 0;
        let isPaused = false;

        // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–≥—Ä—ã
        setInterval(() => {
            if (isPaused) return;

            playSeconds++;
            if (playSeconds >= GAME_TIME_LIMIT) {
                startNeuroPause();
            }
        }, 1000);

        function startNeuroPause() {
            isPaused = true;
            playSeconds = 0;

            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
            const randomTask = neuroTasks[Math.floor(Math.random() * neuroTasks.length)];
            taskContent.innerHTML = randomTask;
            statusText.innerText = "–ü–æ–ª–µ–∑–Ω–∞—è –ø–∞—É–∑–∞";
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É
            container.classList.add('paused');
            
            let timeLeft = PAUSE_TIME;
            timerVal.innerText = timeLeft;

            const countdown = setInterval(() => {
                timeLeft--;
                timerVal.innerText = timeLeft;

                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    endNeuroPause();
                }
            }, 1000);
        }

        function endNeuroPause() {
            container.classList.remove('paused');
            isPaused = false;
        }
    </script>
</body>
</html>
